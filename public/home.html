<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>POSTS</title>
    <link rel="stylesheet" href="stylesheets/main.css">
</head>
<body>
    
    <button id="list-engagement" class="btn">Get Engagements</button>
    <div id="display"></div>

    <script>
        const BASE_URL = "https://afternoon-dawn-87591.herokuapp.com/";
        const btn = document.getElementById("list-engagement");
        const parentElement = document.getElementById("display");

        btn.addEventListener("click", (e) => {
            fetch(BASE_URL+"list-engagements").then(function (response) {
                return response.json();
            }).then(function (data) {
                console.log(data);
            }).catch(function (err) {
                console.warn('Something went wrong.', err);
            });
        });

        function generateTable(data, parentElement) {

            // create a table
            const table = document.createElement('div');
            table.innerHTML = "<section class='row'><p>Name</p><p>Duration</p><p>Total Amount</p></section>";

            data.forEach(element => {
                const row = document.createElement('section');
                row.classList.add('row');
                row.innerHTML = `<p>${element.engagement_name}</p><p>${element.duration}</p><p>${parseFloat(element.total_fee)}</p>`
            });
        }
    </script>

</body>
</html>